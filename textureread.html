<body id="main">
    <canvas id="premap" style="display:none;"></canvas>
<canvas id="mate"></canvas>
<script>
var myImg = new Image();
myImg.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAABLCAYAAACSoX4TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAqwCrAKtqnd0ZAAAAB3RJTUUH4QUIFBol/J7gKAAABKZJREFUeNrt102MXlUZB/DfDCTUTttpgrSZCiwotnHhBkE0ahTQxKBOwgKNEjcmJoJKYogbRayaqoEQ3RGiG5OGr7iQr4VRMCxcGMSwgoANMVEKBTHTzlRo2uFhcQ7tO0Pb6UznOpb8fzeTd+a9773n4/7PM+clIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIi4qxQKNuUG5T1yiblG8r71Fp3LhZqD+scZaty7mAPqLVztXKdsvG022nXTSpfVC5QditPKlcoX1Je6kEbW/W+t7Y3KRcqO5VblMsXtNM+s0H5fO/TSu6/6exYGMfDsqW/LvXZHcov+8O7Qrl22QF452Rd1H8m+3sTysPKK8rtyo+Uz40E7gsLwtHe39j7tlt5THlEmVUOKXuUF5VS7u8LY7XncKtyr7KvB3hO2aWsGxnnjv6ZVxecO36PTyjX9Kq6U/mucpvyoX5+l/Ir5TxlSvnmggp8fH6mlfEzGePYsieAc7AFh/q767EZd+M2PPGOu9axtj6Lm/ERvI4/4Sqci5vwGj6Jh/HUSXt3vB/n46uYxjbcill8Bl/DRG9nA17Cb/BRfKD/fhB/xgfxaXwY7+33PplZPI6/9b8fPWVfT29O4YfYtejsU/3+89iBi/BxjOMv+C024Uk8g59iZ5/HC3EpDuOuPg9fxz9wP67Bx/Br3NPHM4EH+vi/1cd6pLd/YMVjPOnAWyWa6um+THm6r+LblYd6dZhT7u7nF1+7Vfmy8nJf9YuPeeVB5XHlDeUXyiUnXDV17Od65XnlP73to72qHDhJGyc65pT7lJllXDN6/Ff5Se/r5IpWeBvLdmXvEm0d6RX07WO2j7/6mPf1OXj73JGRzz4/cu3odUeV/b2K/UC5UznY7/dP5dn+bL+i7Te39Wp3QX+uk8rmE417bMlBN9djt1adxrWKBW/0T63Tqs7rWuV6eiT5O3ELPoWpU7Q2N3KfN/ECfof9/fU1vEerPJfg99i+agto5Z7TqsLPtUr2b8wvubrb3G7o83KTVs1XtSasknns1eZ9Hx7Dt/EHXIwHcR9qYe/bJvrE+6O2mq7tqT7dY6/yRK9Qe/q1M4tW0HKPe5Q7lAd6dfjxGdxriOOoVo3v1fZBU30+x5X39xW/vv89pVys7Zm+r+3h/t+PI1p1n7Gwur+pVfzt2r51l76fG1PuxNW4Aw9hztixFTWh/f+dXkHSD+E8rQKdqRmtUs7iWVyJjUMu0xX6F/6OV/A9bc/2M7yqVfAZ3Kit/D9qlWrHWnf6DB3Q9qqbtWe9B8+MqWN1aj++o22c5/p701qwJta6991R7d/vhrXuyCn6d7i/HsSktrkePbdOWyCHLf1F4Wy1IFjz2jeGW/FXLVTT2re0iGUZDRYtXPu1TeQW787VFP8Di4MVsSrG17oD8e6UYMUgEqwYRIIVg0iwYhAJVgwiwYpBJFgxiAQrBpFgxSASrBhEghWDSLBiEAlWDCLBikEkWDGIBCsGkWDFIBKsGESCFYNIsGIQCVYMIsGKQSRYMYgEKwaRYMUgEqwYRIIVg0iwYhAJVgwiwYpBJFgxiAQrBpFgxSDeAmd9+xpyy2nZAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE3LTA1LTA4VDIwOjI2OjM3KzAyOjAwBwSPtwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNy0wNS0wOFQyMDoyNjozNyswMjowMHZZNwsAAAAASUVORK5CYII=';
var chuck = document.getElementById('premap').getContext('2d');
chuck.drawImage(myImg, 0, 0);
function getMeta(varA, varB) {
    if (typeof varB !== "undefined") {
    } else {
       var img = new Image();
       img.src = varA;
       img.onload = function() {
           var widdi = this.width;
           var heidi = this.height;
           var updatedw = widdi*32
           var updatedh = heidi*32
//set width and height of canvas. Prep for adding image
document.getElementById('mate').setAttribute('height',updatedh);
document.getElementById('mate').setAttribute('width',updatedw);
{
//File reader below
//Get RGBA value of pixel
//Get its coordinates, scale it to map drawing.
var searchx = 0;
    var imgsearchx = 0;
        var imgsearchy = 0;
var ups = document.getElementById('mate').width;
var searchy = document.getElementById('mate').height;
while(searchx < ups){
    var runth = 0;
    while(runth < searchy){
        data = chuck.getImageData( imgsearchx, imgsearchy, 1, 1).data;
        var data = data.toString();
        if((data) === "0,255,0,255"){
        //include color sensor and image maker here
        var ced = document.getElementById('mate');
        var cex = ced.getContext('2d');
        cex.drawImage(img,searchx,runth,32,32);
        img.src = "https://athdot.github.io/javascript-game/textures/Dirt.png";
                    var runth = runth+32
                        var imgsearchy = imgsearchy+1;
        //yaaaaaaaay
    }else{
        var runth = runth+32
                                var imgsearchy = imgsearchy+1;
        }
    }
    var searchx=searchx+32;
    var imgsearchx = imgsearchx+1;
}
}
       }
    }
}
//Loaded image from builder below
{
getMeta("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAABLCAYAAACSoX4TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAqwCrAKtqnd0ZAAAAB3RJTUUH4QUIFBol/J7gKAAABKZJREFUeNrt102MXlUZB/DfDCTUTttpgrSZCiwotnHhBkE0ahTQxKBOwgKNEjcmJoJKYogbRayaqoEQ3RGiG5OGr7iQr4VRMCxcGMSwgoANMVEKBTHTzlRo2uFhcQ7tO0Pb6UznOpb8fzeTd+a9773n4/7PM+clIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIi4qxQKNuUG5T1yiblG8r71Fp3LhZqD+scZaty7mAPqLVztXKdsvG022nXTSpfVC5QditPKlcoX1Je6kEbW/W+t7Y3KRcqO5VblMsXtNM+s0H5fO/TSu6/6exYGMfDsqW/LvXZHcov+8O7Qrl22QF452Rd1H8m+3sTysPKK8rtyo+Uz40E7gsLwtHe39j7tlt5THlEmVUOKXuUF5VS7u8LY7XncKtyr7KvB3hO2aWsGxnnjv6ZVxecO36PTyjX9Kq6U/mucpvyoX5+l/Ir5TxlSvnmggp8fH6mlfEzGePYsieAc7AFh/q767EZd+M2PPGOu9axtj6Lm/ERvI4/4Sqci5vwGj6Jh/HUSXt3vB/n46uYxjbcill8Bl/DRG9nA17Cb/BRfKD/fhB/xgfxaXwY7+33PplZPI6/9b8fPWVfT29O4YfYtejsU/3+89iBi/BxjOMv+C024Uk8g59iZ5/HC3EpDuOuPg9fxz9wP67Bx/Br3NPHM4EH+vi/1cd6pLd/YMVjPOnAWyWa6um+THm6r+LblYd6dZhT7u7nF1+7Vfmy8nJf9YuPeeVB5XHlDeUXyiUnXDV17Od65XnlP73to72qHDhJGyc65pT7lJllXDN6/Ff5Se/r5IpWeBvLdmXvEm0d6RX07WO2j7/6mPf1OXj73JGRzz4/cu3odUeV/b2K/UC5UznY7/dP5dn+bL+i7Te39Wp3QX+uk8rmE417bMlBN9djt1adxrWKBW/0T63Tqs7rWuV6eiT5O3ELPoWpU7Q2N3KfN/ECfof9/fU1vEerPJfg99i+agto5Z7TqsLPtUr2b8wvubrb3G7o83KTVs1XtSasknns1eZ9Hx7Dt/EHXIwHcR9qYe/bJvrE+6O2mq7tqT7dY6/yRK9Qe/q1M4tW0HKPe5Q7lAd6dfjxGdxriOOoVo3v1fZBU30+x5X39xW/vv89pVys7Zm+r+3h/t+PI1p1n7Gwur+pVfzt2r51l76fG1PuxNW4Aw9hztixFTWh/f+dXkHSD+E8rQKdqRmtUs7iWVyJjUMu0xX6F/6OV/A9bc/2M7yqVfAZ3Kit/D9qlWrHWnf6DB3Q9qqbtWe9B8+MqWN1aj++o22c5/p701qwJta6991R7d/vhrXuyCn6d7i/HsSktrkePbdOWyCHLf1F4Wy1IFjz2jeGW/FXLVTT2re0iGUZDRYtXPu1TeQW787VFP8Di4MVsSrG17oD8e6UYMUgEqwYRIIVg0iwYhAJVgwiwYpBJFgxiAQrBpFgxSASrBhEghWDSLBiEAlWDCLBikEkWDGIBCsGkWDFIBKsGESCFYNIsGIQCVYMIsGKQSRYMYgEKwaRYMUgEqwYRIIVg0iwYhAJVgwiwYpBJFgxiAQrBpFgxSDeAmd9+xpyy2nZAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE3LTA1LTA4VDIwOjI2OjM3KzAyOjAwBwSPtwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNy0wNS0wOFQyMDoyNjozNyswMjowMHZZNwsAAAAASUVORK5CYII=");
}
</script>
</body>
