<html>
  <head>
    <title>Level 02</title>    
  </head>
<body onload="load()" onkeydown="getKey(e)" onresize="res()" style="background-color: black;">
  <input type="text" value="0" id="boi" style="display:none;"></input>
<div id="size" style="width: 700px; height: 500px; position:absolute; transform:translate(-50%,-50%); top:50%; left: 50%; ">
<canvas id="canvas" style="position:absolute; height: 100%; width: 100%; cursor:none; border: 1px solid white;"></canvas>
</div>
<canvas id="canvasite" style="position:fixed; display:none;"></canvas>
<script>
    c = document.getElementById('canvasite'),
    ctx = c.getContext('2d');
    var x = 0
    var y = c.height/2;
var widd = 0
while(widd != c.width){
    ctx.fillStyle = "rgba("+0+","+255+","+0+","+(255/255)+")";
ctx.fillRect( x, y, 1, 1 );
var ychan = Math.floor((Math.random() * 6) + 1);
if(ychan == 1){
var y=y+2
}else if(ychan == 2){
var y=y+1
}else if(ychan == 3){
var y=y-1
}else if(ychan == 4){
var y=y-2
}else{
var y=y
}
var hig = y
while(hig != c.height){
    ctx.fillStyle = "rgba("+0+","+255+","+0+","+(255/255)+")";
ctx.fillRect( x, hig, 1, 1 );
var hig = hig+1
}
var widd = widd+1
var x=x+1
}
var loadurl = c.toDataURL();
if(innerWidth > innerHeight){
document.getElementById('size').style = 'height: ' + innerHeight +'px; width: 700px; position:absolute; transform:translate(-50%,-50%); top:50%; left: 50%;'
document.getElementById('size').style.width = ((document.getElementById('size').style.height).substring(0,((document.getElementById('size').style.height).length)-2)*(7/5)+'px')
}else{
document.getElementById('size').style = 'width: ' + innerWidth +'px; height: 700px; position:absolute; transform:translate(-50%,-50%); top:50%; left: 50%;'
document.getElementById('size').style.height = ((document.getElementById('size').style.width).substring(0,((document.getElementById('size').style.width).length)-2)*(5/7)+'px')
}
var image = new Image(),
    canvas = document.getElementById('canvas'),
    ctx = canvas.getContext('2d');
image.src = loadurl;
var wid = document.getElementById('canvas').width;
var hig = document.getElementById('canvas').height;
var imgx = wid
var imgy = hig
var centx = 0
var centy = 0
var sidescroll = parseInt(document.getElementById('boi').value);
function load(){
    ctx.drawImage(image,
        sidescroll, 0,   // Start at 70/20 pixels from the left and the top of the image (crop),
        300, 200,   // "Get" a `50 * 50` (w * h) area from the source image (crop),
        centx, centy,     // Place the result at 0, 0 in the canvas,
        imgx, imgy); // With as width / height: 100 * 100 (scale)
};
function getKey(e){
var k = e.keyCode
    if(k == 68) {
        document.getElementById('boi').setAttribute('value',(parseInt(document.getElementById('boi').value)+2));
var sidescroll = parseInt(document.getElementById('boi').value);
    ctx.drawImage(image,sidescroll, 100, 300, 200, centx, centy, imgx, imgy);
    }else if(k == 65){
        document.getElementById('boi').setAttribute('value',(parseInt(document.getElementById('boi').value)-2));
var sidescroll = parseInt(document.getElementById('boi').value);
    ctx.drawImage(image,sidescroll, 100, 300, 200, centx, centy, imgx, imgy);
}
}
document.onkeydown = getKey;
function res(){
if(innerWidth > innerHeight){
document.getElementById('size').style = 'height: ' + innerHeight +'px; width: 700px; position:absolute; transform:translate(-50%,-50%); top:50%; left: 50%;'
document.getElementById('size').style.width = ((document.getElementById('size').style.height).substring(0,((document.getElementById('size').style.height).length)-2)*(7/5)+'px')
}else{
document.getElementById('size').style = 'width: ' + innerWidth +'px; height: 700px; position:absolute; transform:translate(-50%,-50%); top:50%; left: 50%;'
document.getElementById('size').style.height = ((document.getElementById('size').style.width).substring(0,((document.getElementById('size').style.width).length)-2)*(5/7)+'px')
}
}
</script>
</body>
</html>
